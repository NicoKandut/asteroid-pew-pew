(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();const se=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),$e=(e,t)=>{e.x*=t,e.y*=t},J=e=>({x:Math.cos(e),y:Math.sin(e)}),le=e=>Math.sqrt(e.x**2+e.y**2);let E=new Map;const qe=2e3,C=e=>{const t={x:e.position.x,y:e.position.y,rotation:e.rotation},o=e.parent;if(o==null)return t;const a=C(o),s=Math.cos(a.rotation),n=Math.sin(a.rotation);return{x:a.x+t.x*s-t.y*n,y:a.y+t.x*n+t.y*s,rotation:a.rotation+t.rotation}},Ue=(e,t)=>{E[e]||(E[e]=[]);const o=performance.now();E[e].push({x:t.x,y:t.y,time:o}),E[e]=E[e].filter(a=>o-a.time<qe)},je=e=>{delete E[e]},Ge=e=>{for(const t in E){const o=E[t];if(!(!o||o.length<2)){e.beginPath();for(let a=0;a<o.length;a++){const s=o[a];a===0?e.moveTo(s.x,s.y):e.lineTo(s.x,s.y)}e.strokeStyle="rgba(255, 255, 255, 0.5)",e.lineWidth=1,e.stroke()}}},I=document.getElementsByTagName("canvas")[0],r=I.getContext("2d"),_="asteroid",x="bullet",H="explosion",G="flash",v="rocket",W="spaceship",Te="velocity",B="spaceshippart",R="flames",ze="#ffffff",Ke="#ffff00",q="#ff0000",de="#00ff00";let Ye=0;const Xe=()=>`${Ye++}`,w={[_]:{color:ze},[x]:{color:Ke,length:10,strokeWidth:2},[v]:{color:q,radius:10},[W]:{color:de},[Te]:{color:q},[B]:{color:de},[R]:{color:q}},k={[R]:{},[W]:{},[B]:{},[_]:{},[x]:{},[v]:{},[H]:{},[G]:{}};let be=!1,K=!1,Ee=!1,ke=!1;const Je=e=>{be=e},Qe=e=>{K=e},Ze=e=>{Ee=e},et=e=>{ke=e},T=(e,t)=>{t.id=Xe(),k[e][t.id]=t},M=(e,t)=>{delete k[e][t],je(t)},tt=()=>{for(const e in k)k[e]={}},Pe="img/",ot=new Image;ot.src=Pe+"rock.webp";const ae=[];for(let e=0;e<15;++e){const t=new Image;t.src=Pe+`boom/boom_${e}.gif`,ae.push(t)}const st=()=>{I.width=I.clientWidth,I.height=I.clientHeight,r.clearRect(0,0,I.width,I.height);for(const e in k)for(const t of Object.values(k[e])){switch(e){case _:at(t);break;case H:it(t);break;case x:nt(t);break;case v:rt(t);break;case W:case B:ct(t);break;case R:lt(t);break;case G:dt(t);break}Ue(t.id,C(t))}if(be){r.strokeStyle=w[Te].color,r.lineWidth=1,r.beginPath();for(const e in k){for(const t of Object.values(k[e]))if("velocity"in t){const{position:o,velocity:a}=t,{x:s,y:n}=o,{x:c,y:l}=a;r.moveTo(s,n),r.lineTo(s+c*200,n+l*200)}r.stroke()}}Ee&&Ge(r)},at=e=>{const{radius:t,texture:o}=e,a=C(e);r.save(),r.translate(a.x,a.y),r.rotate(a.rotation),r.drawImage(o,-t,-t,t*2,t*2),K&&(r.strokeStyle=q,r.lineWidth=1,r.beginPath(),r.moveTo(0,0),r.arc(0,0,t,0,2*Math.PI),r.stroke()),r.restore()},nt=e=>{var s;const{length:t}=w[x],o=Math.cos(e.rotation)*t/2,a=Math.sin(e.rotation)*t/2;r.fillStyle=w[x].color,r.strokeStyle=w[x].color,r.lineWidth=(s=w[x])==null?void 0:s.strokeWidth,r.beginPath(),r.moveTo(e.position.x+o,e.position.y+a),r.lineTo(e.position.x-o,e.position.y-a),r.stroke()},rt=e=>{var c;const{radius:t}=w[v],o=2*Math.PI/8,a={x:e.position.x+t*Math.cos(e.rotation),y:e.position.y+t*Math.sin(e.rotation)},s={x:e.position.x-t*Math.cos(e.rotation+o),y:e.position.y-t*Math.sin(e.rotation+o)},n={x:e.position.x-t*Math.cos(e.rotation-o),y:e.position.y-t*Math.sin(e.rotation-o)};if(r.fillStyle=w[v].color,r.strokeStyle=w[v].color,r.lineWidth=((c=w[v])==null?void 0:c.strokeWidth)??0,r.beginPath(),r.moveTo(a.x,a.y),r.lineTo(s.x,s.y),r.lineTo(n.x,n.y),r.lineTo(a.x,a.y),r.stroke(),ke){r.strokeStyle="grey",r.beginPath(),r.moveTo(e.pathPoints[0].x,e.pathPoints[0].y);for(const l of e.pathPoints)r.lineTo(l.x,l.y),r.arc(l.x,l.y,2,0,2*Math.PI),r.moveTo(l.x,l.y);r.lineTo(e.targets[e.targets.length-1].x,e.targets[e.targets.length-1].y),r.stroke()}},it=e=>{r.translate(e.position.x,e.position.y);const a=ae[e.frame];r.drawImage(a,-100/2,-100/2,100,100),r.translate(-e.position.x,-e.position.y),e.frame<ae.length-1?e.frame++:M(H,e.id)},ct=e=>{const{width:t,height:o,texture:a}=e,s=C(e);r.save(),r.translate(s.x,s.y),r.rotate(s.rotation),r.drawImage(a,-t/2,-o/2,t,o),K&&(r.strokeStyle="lime",r.lineWidth=1,r.strokeRect(-t/2,-o/2,t,o)),r.restore()},lt=e=>{var L,X,O;const{width:t,height:o}=e,a=C(e),s=((L=e==null?void 0:e.parent)==null?void 0:L.velocity)??{x:0,y:1},n=((O=(X=e==null?void 0:e.parent)==null?void 0:X.parent)==null?void 0:O.velocity)??{x:0,y:0},c={x:s.x+n.x,y:s.y+n.y},l=Math.min(Math.sqrt(c.x**2+c.y**2)*5,2);r.save(),r.translate(a.x,a.y),r.rotate(a.rotation),r.beginPath();const h=Math.random()*5;r.moveTo(0,0),r.lineTo(-t,(o+h)*l),r.lineTo(t,(o+h)*l),r.closePath(),r.fillStyle="orange",r.fill(),r.beginPath(),r.moveTo(0,0),r.lineTo(-t/2,(o/2+h)*l),r.lineTo(t/2,(o/2+h)*l),r.closePath(),r.fillStyle="yellow",r.fill(),K&&(r.strokeStyle="lime",r.lineWidth=1,r.strokeRect(-t,0,t*2,o+h)),r.restore()},dt=e=>{const t=e.position,o=3,a=15;r.fillStyle="white",r.beginPath(),r.moveTo(t.x+o,t.y+o),r.lineTo(t.x+a,t.y),r.lineTo(t.x+o,t.y-o),r.lineTo(t.x,t.y-a),r.lineTo(t.x-o,t.y-o),r.lineTo(t.x-a,t.y),r.lineTo(t.x-o,t.y+o),r.lineTo(t.x,t.y+a),r.closePath(),r.fill()},V=()=>({position:{x:0,y:0},velocity:{x:0,y:0},acceleration:{x:0,y:0},force:{x:0,y:0},rotation:0,angularVelocity:0,angularAcceleration:0,torque:0,mass:1,inertia:1,radius:0,drag:1,height:0,width:0,maxVelocity:1,parent:null,texture:null}),Q=(e,t)=>{if(e.frozen)return;e.position.x+=e.velocity.x*t+.5*e.acceleration.x*t**2,e.position.y+=e.velocity.y*t+.5*e.acceleration.y*t**2,e.rotation+=e.angularVelocity*t+.5*e.angularAcceleration*t**2,e.velocity.x+=e.drag*e.acceleration.x*t,e.velocity.y+=e.drag*e.acceleration.y*t;const o=Math.sqrt(e.velocity.x**2+e.velocity.y**2);o>e.maxVelocity&&(e.velocity.x/=o/e.maxVelocity,e.velocity.y/=o/e.maxVelocity),e.angularVelocity+=e.angularAcceleration*t,e.acceleration.x=e.force.x/e.mass,e.acceleration.y=e.force.y/e.mass,e.angularAcceleration=e.torque/e.inertia,e.force.x=0,e.force.y=0,e.torque=0},Le=(e,t)=>Math.sqrt((t.position.x-e.position.x)**2+(t.position.y-e.position.y)**2),he=(e,t)=>Le(e,t)<e.radius+t.radius,Z=(e,t,o,a)=>{const s=Le(e,t);if(s>=e.radius+t.radius)return!1;const n={x:(t.position.x-e.position.x)/s,y:(t.position.y-e.position.y)/s},c=2*(e.velocity.x*n.x+e.velocity.y*n.y-t.velocity.x*n.x-t.velocity.y*n.y)/(e.mass+t.mass),l=e.radius+t.radius-s;a&&(e.frozen||(e.position.x-=n.x*l,e.position.y-=n.y*l),t.frozen||(t.position.x+=n.x*l,t.position.y+=n.y*l)),e.velocity.x-=c*o*t.mass*n.x,e.velocity.y-=c*o*t.mass*n.y,t.velocity.x+=c*o*e.mass*n.x,t.velocity.y+=c*o*e.mass*n.y;const h={position:{x:(e.position.x+t.position.x)/2,y:(e.position.y+t.position.y)/2}};return T(G,h),setTimeout(()=>M(G,h.id),100),!0},me=10,ht=30,ue=(e,t,o,a,s)=>.5*(2*o+(-t+a)*e+(2*t-5*o+4*a-s)*e*e+(-t+3*o-3*a+s)*e*e*e),Ie=(e,t,o,a,s)=>({x:ue(e,t.x,o.x,a.x,s.x),y:ue(e,t.y,o.y,a.y,s.y)}),Se=(e,t)=>{const o=Math.max(Math.min(Math.floor(t),e.targets.length-4),0);return Ie(t%1,e.targets[o+0].position,e.targets[o+1].position,e.targets[o+2].position,e.targets[o+3].position)},Ae=(e,t)=>Se(e,De(e,t)),mt=e=>{e.arcLengthTable=[];let t=0,o=e.targets[1].position;for(let c=0;c<(e.targets.length-3)*me;++c){const l=c/me,h=Se(e,l),L=le(se(h,o));t+=L,e.arcLengthTable.push({v:l,totalLength:t}),o=h}const a=e.targets.length-4,s=Ie(1,e.targets[a+0].position,e.targets[a+1].position,e.targets[a+2].position,e.targets[a+3].position),n=le(se(s,o));t+=n,e.arcLengthTable.push({v:e.targets.length-3,totalLength:t})},ut=e=>-(Math.cos(Math.PI*e)-1)/2,De=(e,t)=>{let o=e.arcLengthTable[e.arcLengthTable.length-1].v;for(let c=1;c<e.arcLengthTable.length;++c){const l=e.arcLengthTable[c-1],h=e.arcLengthTable[c];if(t<h.totalLength){const L=h.totalLength-l.totalLength;if(L===0){o=h.v;break}const O=(t-l.totalLength)/L;o=l.v*(1-O)+h.v*O;break}}const a=Math.floor(o),s=o-a,n=ut(s);return a+n},gt=(e,t,o)=>{const a=Ae(e,t);e.velocity=se(a,e.position),e.rotation=Math.atan2(e.velocity.y,e.velocity.x),e.position=a;const s=Math.max(Math.min(Math.floor(De(e,t)),e.targets.length-3),0);if(s!==e.currentTarget&&(o(e.targets[s+1]),e.currentTarget=s),s>=e.targets.length-3){e.remove=!0;return}},ft=e=>{e.pathPoints=[];const t=e.arcLengthTable[e.arcLengthTable.length-1].totalLength;for(let o=0;o<=t;o+=ht)e.pathPoints.push(Ae(e,o));e.pathPoints.push(e.targets[e.targets.length-2].position)},b=document.getElementsByTagName("canvas")[0],pt=()=>({x:Math.random()*b.width,y:Math.random()*b.height}),yt=()=>{const e=Math.floor(Math.random()*4),t=90;switch(e){case 0:return{x:Math.random()*b.width,y:-90};case 1:return{x:b.width+t,y:Math.random()*b.height};case 2:return{x:Math.random()*b.width,y:b.height+t};case 3:return{x:-90,y:Math.random()*b.height}}},xt=e=>(Math.random()*2-1)*e,vt=()=>{const e=[20,30,40];return e[Math.floor(Math.random()*e.length)]},y={timePlayed:0,asteroidsDestroyed:0,damageDealt:0,bulletsFired:0,bulletsHit:0,rocketsFired:0,distanceTraveled:0},m={...y},d={...y},wt=()=>{m.timePlayed=Math.max(m.timePlayed,d.timePlayed),m.asteroidsDestroyed=Math.max(m.asteroidsDestroyed,d.asteroidsDestroyed),m.damageDealt=Math.max(m.damageDealt,d.damageDealt),m.bulletsFired=Math.max(m.bulletsFired,d.bulletsFired),m.bulletsHit=Math.max(m.bulletsHit,d.bulletsHit),m.rocketsFired=Math.max(m.rocketsFired,d.rocketsFired),m.distanceTraveled=Math.max(m.distanceTraveled,d.distanceTraveled),d.timePlayed=y.timePlayed,d.asteroidsDestroyed=y.asteroidsDestroyed,d.damageDealt=y.damageDealt,d.bulletsFired=y.bulletsFired,d.bulletsHit=y.bulletsHit,d.rocketsFired=y.rocketsFired,d.distanceTraveled=y.distanceTraveled},N="audio/";let F=.5;const Mt=e=>{F=e},Y=new Audio(N+"propulsion.mp3");Y.volume=0;Y.loop=!0;document.addEventListener("keydown",()=>Y.play().catch(()=>{}),{once:!0});const ne=e=>{Y.volume=e*F},Tt=()=>{const e=new Audio(N+"bonk.mp3");e.volume=.1*F,e.play().catch(()=>{})},bt=()=>{const e=new Audio(N+"metal-hit.mp3");e.volume=.1*F,e.play().catch(()=>{})},Et=()=>{const e=new Audio(N+"laser.mp3");e.volume=.3*F,e.play().catch(()=>{})},ee=()=>{const e=new Audio(N+"explosion.mp3");e.volume=.1*F,e.play().catch(()=>{})},Be=2e3,kt=3,Pt=300,U="img/",Lt=e=>4/3*Math.PI*e**3*3.5;let P=!1,g=document.getElementsByTagName("canvas")[0],It=document.getElementById("entity-count"),St=document.getElementById("fps"),At=document.getElementById("ups"),Dt=document.getElementById("target-fps"),Bt=document.getElementById("target-ups"),Re=document.getElementById("menu"),Ve=document.getElementById("pause-resume"),Rt=document.getElementById("debug-velocity"),Vt=document.getElementById("debug-hitbox"),Ft=document.getElementById("debug-trajectory"),Ot=document.getElementById("debug-spline-paths"),Ct=document.getElementById("fire-rate"),Fe=document.getElementById("hp"),Oe=document.getElementById("game-over"),_t=document.getElementById("time-played"),Ht=document.getElementById("asteroids-destroyed"),Wt=document.getElementById("distance-traveled"),Nt=document.getElementById("damage-dealt"),$t=document.getElementById("restart"),qt=document.getElementById("volume"),j=1e3/120,Ce=1e3/60,z=0,ge=0,re=0,te=0,oe=0,f=[],A=[],D=[],i=null,ie=!1,fe=0,_e=40,ce=!1,Ut=1e3,pe=0,S=1e3,ye=0,u={forward:!1,backward:!1,left:!1,right:!1};const jt=()=>{z=performance.now(),re=z,Gt(),zt(),He(),requestAnimationFrame(We)},He=()=>{g.width=g.clientWidth,g.height=g.clientHeight,eo({x:g.width/2,y:g.height/2},0,{x:0,y:0},0)};let xe=0,p=performance.now();const Gt=()=>{document.addEventListener("keydown",e=>{switch(e.key){case"Escape":Me();break;case" ":ie=!0;break;case"q":ce=!0;break;case"ArrowUp":case"w":u.forward=!0;break;case"ArrowDown":case"s":u.backward=!0;break;case"ArrowLeft":case"a":u.left=!0;break;case"ArrowRight":case"d":u.right=!0;break}}),document.addEventListener("keyup",e=>{switch(e.key){case" ":ie=!1;break;case"q":ce=!1;break;case"ArrowUp":case"w":u.forward=!1;break;case"ArrowDown":case"s":u.backward=!1;break;case"ArrowLeft":case"a":u.left=!1;break;case"ArrowRight":case"d":u.right=!1;break}}),document.addEventListener("mousemove",e=>{const t=e.clientX-g.getBoundingClientRect().left,o=e.clientY-g.getBoundingClientRect().top;if(i){const a=t-i.position.x,s=o-i.position.y;i.rotation=Math.atan2(s,a)}}),Dt.addEventListener("change",e=>{Ce=1e3/Math.max(0,Math.min(1e3,Number(e.target.value)))}),Bt.addEventListener("change",e=>{j=1e3/Math.max(0,Math.min(1e3,Number(e.target.value)))}),Rt.addEventListener("change",e=>Je(e.target.checked)),Vt.addEventListener("change",e=>Qe(e.target.checked)),Ft.addEventListener("change",e=>Ze(e.target.checked)),Ot.addEventListener("change",e=>et(e.target.checked)),Ve.addEventListener("click",Me),$t.addEventListener("click",so),qt.addEventListener("input",e=>Mt(e.target.value/100))},zt=()=>{Ct.innerText=`${Math.round(1e3/_e)}`},We=()=>{for(p=performance.now();ge+j/2<=p;)P||(Yt(j),++te),ge+=j;z+Ce/2<=p&&(P||(st(),++oe),z=p),p-re>=1e3&&(It.innerText=`${f.length+A.length+D.length+(i?1:0)}`,St.innerText=`${oe}`,At.innerText=`${te}`,oe=0,te=0,re=p),requestAnimationFrame(We)},Kt=e=>{if(ie&&p-fe>=_e&&i){const t=i.rotation+(Math.random()-.5)*.1,o=xe%2===0?-1:1,a=J(i.rotation+Math.PI/2*o);a.x*=10,a.y*=10,a.x+=i.position.x,a.y+=i.position.y,Qt(a,t,J(t),0),Et(),xe++,fe=p}if(ce&&p-pe>=Ut&&i){const t=[{position:{x:i.position.x-Math.cos(i.rotation)*100,y:i.position.y-Math.sin(i.rotation)*100}},{position:{x:i.position.x,y:i.position.y}}];for(let o=0;o<Math.min(kt,f.length);o++){let a;do a=f[Math.floor(Math.random()*f.length)];while(t.includes(a));a.frozen=!0,a.velocity.x=0,a.velocity.y=0,t.push(a)}t.push(i),Zt({...i.position},i.rotation,$e(J(i.rotation),.2),0,t),pe=p}if(p-ye>=S){const t=yt(),o=pt(),a=Math.random()*Math.PI*2,s={x:o.x-t.x,y:o.y-t.y},n=Math.sqrt(s.x**2+s.y**2);n>0&&(s.x/=n,s.y/=n),s.x*=Math.random()*.1+.1,s.y*=Math.random()*.1+.1;const c=xt(.01),l=vt();Jt(t,a,{x:0,y:0},s,c,l),ye=p,S*=(Math.random()-.6)*.2+1,S=Math.max(S,300),S=Math.min(S,2e3)}i&&(u.forward&&(i.force.y-=.004),u.backward&&(i.force.y+=.004),u.left&&(i.force.x-=.004),u.right&&(i.force.x+=.004))},ve=e=>e.x<-100||e.x>g.width+100||e.y<-100||e.y>g.height+100,Yt=e=>{Kt(),d.timePlayed+=e;for(const s of f){Q(s,e),ve(s.position)&&(s.remove=!0);for(const n of f)s!==n&&Z(s,n,1,!0)&&Tt()}for(const s of A){Q(s,e),ve(s.position)&&(s.remove=!0);for(const n of f)Z(s,n,1,!1)&&(s.remove=!0,n.hp-=1,d.bulletsHit++,d.damageDealt++,n.hp<=0&&(++d.asteroidsDestroyed,n.remove=!0,ee()))}for(const s of D)s.progress+=e/1e3*Pt,gt(s,s.progress,n=>{n.remove=!0,++d.asteroidsDestroyed,d.damageDealt+=(n==null?void 0:n.hp)??0,ee()});const t={...i.position};Q(i,e);const o={x:i.position.x-t.x,y:i.position.y-t.y},a=Math.sqrt(o.x**2+o.y**2);d.distanceTraveled+=a,ne(Math.min(a/100,.05));for(const s of f)if(Z(i,s,1,!0)&&(i.hp-=1,bt(),i.hp>=0&&(Fe.children.item(i.hp).style.color="grey"),i.hp<=0)){ee(),to(),i.frame=0,ne(0),T(H,i),setTimeout(()=>{oo()},1e3);break}!u.forward&&!u.backward&&!u.left&&!u.right&&(console.log("deltaTime",e),i.velocity.x*=Math.pow(.9995,e),i.velocity.y*=Math.pow(.9995,e)),(i.position.x<0||i.position.x>g.width)&&(i.position.x=Math.max(0,Math.min(i.position.x,g.width)),i.velocity.x*=-1),(i.position.y<0||i.position.y>g.height)&&(i.position.y=Math.max(0,Math.min(i.position.y,g.height)),i.velocity.y*=-1),Xt()},Xt=()=>{f.forEach(e=>{e.remove&&(M(_,e.id),e.frame=0,T(H,e))}),A.forEach(e=>{e.remove&&M(x,e.id)}),D.forEach(e=>{e.remove&&(M(v,e.id),e.children.forEach(t=>{M(R,t.id)}))}),f=f.filter(e=>!e.remove),A=A.filter(e=>!e.remove),D=D.filter(e=>!e.remove)},Jt=(e,t,o,a,s,n)=>{const c=V();c.position=e,c.rotation=t,c.acceleration=o,c.velocity=a,c.angularVelocity=s,c.mass=Lt(n),c.radius=n,c.inertia=2/5*c.mass*n**2,c.hp=n/2;const l=new Image;if(l.src=U+"Asteroid1.png",c.texture=l,!he(c,i)){for(const h of f)if(he(c,h))return;T(_,c),f.push(c)}},Qt=(e,t,o,a)=>{const s=V();s.position=e,s.rotation=t,s.velocity=o,s.angularVelocity=a,s.mass=Be,s.radius=5,s.inertia=2/5*s.mass*s.radius**2,T(x,s),A.push(s),++d.bulletsFired},Zt=(e,t,o,a,s)=>{const n=V();n.position=e,n.rotation=t,n.velocity=o,n.angularVelocity=a,n.mass=Be,n.radius=5,n.targets=s,n.progress=0,n.currentTarget=2,mt(n),ft(n),T(v,n),D.push(n),Ne({x:-5,y:0},Math.PI/2,n),++d.rocketsFired},eo=(e,t,o,a)=>{i=V(),i.position=e,i.rotation=t,i.velocity=o,i.angularVelocity=a,i.mass=10,i.drag=1,i.maxVelocity=.5,i.height=40,i.width=40,i.radius=i.width/2,i.hp=5;const s=new Image;s.src=U+"Spaceship.png",i.texture=s,T(W,i),we({x:-5,y:18},0,B,U+"WingRight.png",i),we({x:-5,y:-18},0,B,U+"WingLeft.png",i)},we=(e,t,o,a,s)=>{const n=V();n.position=e,n.rotation=t,n.parent=s,n.height=20,n.width=20,T(o,n);const c=new Image;c.src=a,n.texture=c,s.children??(s.children=s.children||[]),s.children.push(n),Ne({x:-5,y:0},1.5707964,n)},Ne=(e,t,o)=>{const a=V();a.position=e,a.rotation=t,a.parent=o,a.height=10,a.width=5,o.children??(o.children=o.children||[]),o.children.push(a),T(R,a)},Me=()=>{P=!P,Ve.innerText=P?"Resume":"Pause",Re.style.display=P?"flex":"none"},to=()=>{if(i){M(W,i.id);for(let e of i.children){M(B,e.id);for(let t of e.children)M(R,t.id)}}},oo=()=>{P=!0,ne(0),$(_t,(d.timePlayed/1e3).toFixed(1),(m.timePlayed/1e3).toFixed(1),"s"),$(Ht,d.asteroidsDestroyed,m.asteroidsDestroyed),$(Wt,d.distanceTraveled.toFixed(1),m.distanceTraveled.toFixed(1),"m"),$(Nt,d.damageDealt,m.damageDealt,"hp"),Oe.style.display="grid"},$=(e,t,o,a)=>{e.children.item(1).innerText=a?`${t} ${a}`:`${t}`,e.children.item(2).classList.remove("new-best"),e.children.item(2).classList.remove("previous-best"),t>o?(e.children.item(2).classList.add("new-best"),e.children.item(2).innerText="New best!"):(e.children.item(2).classList.add("previous-best"),e.children.item(2).innerText=`( Best: ${a?`${o} ${a}`:o} )`)},so=()=>{wt(),tt(),f=[],A=[],D=[],S=1e3;for(let e of Fe.children)e.style.color="red";Oe.style.display="none",Re.style.display="none",He(),P=!1};jt();
